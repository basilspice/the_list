{"ast":null,"code":"import React from\"react\";import MainScreen from\"../../components/MainScreen\";import{Accordion,Badge,Button,Card}from\"react-bootstrap\";import{Link,useHistory}from\"react-router-dom\";import{useEffect}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{deleteListAction,listLists}from\"../../actions/listsActions\";import Loading from\"../../components/Loading\";import ErrorMessage from\"../../components/ErrorMessage\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyLists=function MyLists(_ref){var search=_ref.search;var dispatch=useDispatch();var listList=useSelector(function(state){return state.listList;});var loading=listList.loading,lists=listList.lists,error=listList.error;var userLogin=useSelector(function(state){return state.userLogin;});var userInfo=userLogin.userInfo;var listCreate=useSelector(function(state){return state.listCreate;});var successCreate=listCreate.success;var listUpdate=useSelector(function(state){return state.listUpdate;});var successUpdate=listUpdate.success;var listDelete=useSelector(function(state){return state.listDelete;});var loadingDelete=listDelete.loading,errorDelete=listDelete.error,successDelete=listDelete.success;var deleteHandler=function deleteHandler(id){if(window.confirm(\"Are you sure about that?\")){dispatch(deleteListAction(id));}};var history=useHistory();useEffect(function(){dispatch(listLists());if(!userInfo){history.pushState(\"/\");}},[dispatch,successCreate,history,userInfo,successUpdate,successDelete]);return/*#__PURE__*/_jsxs(MainScreen,{title:\"Welcome Back \".concat(userInfo&&userInfo.name),children:[/*#__PURE__*/_jsx(Link,{to:\"/createlist\",children:/*#__PURE__*/_jsx(Button,{style:{marginLeft:10,marginBottom:6},size:\"lg\",children:\"Create New List\"})}),error&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:error}),errorDelete&&/*#__PURE__*/_jsx(ErrorMessage,{variant:\"danger\",children:errorDelete}),loading&&/*#__PURE__*/_jsx(Loading,{}),loadingDelete&&/*#__PURE__*/_jsx(Loading,{}),lists&&lists// .filter((filteredList) =>\n//   filteredList.title.toLowerCase().includes(search.toLowerCase())\n// )\n.reverse().map(function(list){return/*#__PURE__*/_jsx(Accordion,{defaultActiveKey:[\"0\"],children:/*#__PURE__*/_jsx(Accordion.Item,{eventkey:\"0\",children:/*#__PURE__*/_jsxs(Card,{style:{margin:10},children:[/*#__PURE__*/_jsxs(Card.Header,{style:{display:\"flex\"},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:\"black\",textDecoration:\"none\",flex:1,cursor:\"pointer\",alignSelf:\"center\",fontSize:18},children:/*#__PURE__*/_jsx(Accordion.Button,{as:Card.Text,variant:\"link\",children:list.title})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{href:\"/api/lists/\".concat(list._id),children:\"Edit\"}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",className:\"mx-2\",onClick:function onClick(){return deleteHandler(list._id);},children:\"Delete\"})]})]}),/*#__PURE__*/_jsx(Accordion.Collapse,{children:/*#__PURE__*/_jsxs(Card.Body,{children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsxs(Badge,{bg:\"success\",text:\"light\",children:[\"Category - \",list.category,\" \"]})}),/*#__PURE__*/_jsxs(\"blockquote\",{className:\"blockquote mb-0\",children:[/*#__PURE__*/_jsx(\"p\",{children:list.content}),/*#__PURE__*/_jsxs(\"footer\",{className:\"blockquote-footer\",children:[\"Created on \",\"\",/*#__PURE__*/_jsx(\"cite\",{title:\"Source Title\",children:list.createdAt.substring(0,10)})]})]})]})})]},list._id)})},list._id);})]});};export default MyLists;","map":{"version":3,"names":["React","MainScreen","Accordion","Badge","Button","Card","Link","useHistory","useEffect","useDispatch","useSelector","deleteListAction","listLists","Loading","ErrorMessage","MyLists","search","dispatch","listList","state","loading","lists","error","userLogin","userInfo","listCreate","successCreate","success","listUpdate","successUpdate","listDelete","loadingDelete","errorDelete","successDelete","deleteHandler","id","window","confirm","history","pushState","name","marginLeft","marginBottom","reverse","map","list","margin","display","color","textDecoration","flex","cursor","alignSelf","fontSize","Text","title","_id","category","content","createdAt","substring"],"sources":["/home/basil/The_List/frontend/src/screens/MyLists/MyLists.js"],"sourcesContent":["import React from \"react\";\nimport MainScreen from \"../../components/MainScreen\";\nimport { Accordion, Badge, Button, Card } from \"react-bootstrap\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useEffect } from \"react\";\n\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { deleteListAction, listLists } from \"../../actions/listsActions\";\nimport Loading from \"../../components/Loading\";\n\nimport ErrorMessage from \"../../components/ErrorMessage\";\n\nconst MyLists = ({ search }) => {\n  const dispatch = useDispatch();\n  const listList = useSelector((state) => state.listList);\n  const { loading, lists, error } = listList;\n\n  const userLogin = useSelector((state) => state.userLogin);\n  const { userInfo } = userLogin;\n\n  const listCreate = useSelector((state) => state.listCreate);\n  const { success: successCreate } = listCreate;\n\n  const listUpdate = useSelector((state) => state.listUpdate);\n  const { success: successUpdate } = listUpdate;\n\n  const listDelete = useSelector((state) => state.listDelete);\n  const {\n    loading: loadingDelete,\n    error: errorDelete,\n    success: successDelete,\n  } = listDelete;\n\n  const deleteHandler = (id) => {\n    if (window.confirm(\"Are you sure about that?\")) {\n      dispatch(deleteListAction(id));\n    }\n  };\n\n  const history = useHistory();\n\n  useEffect(() => {\n    dispatch(listLists());\n    if (!userInfo) {\n      history.pushState(\"/\");\n    }\n  }, [\n    dispatch,\n    successCreate,\n    history,\n    userInfo,\n    successUpdate,\n    successDelete,\n  ]);\n\n  return (\n    <MainScreen title={`Welcome Back ${userInfo && userInfo.name}`}>\n      <Link to=\"/createlist\">\n        <Button style={{ marginLeft: 10, marginBottom: 6 }} size=\"lg\">\n          Create New List\n        </Button>\n      </Link>\n      {error && <ErrorMessage variant=\"danger\">{error}</ErrorMessage>}\n      {errorDelete && (\n        <ErrorMessage variant=\"danger\">{errorDelete}</ErrorMessage>\n      )}\n      {loading && <Loading />}\n      {loadingDelete && <Loading />}\n      {lists &&\n        lists\n          // .filter((filteredList) =>\n          //   filteredList.title.toLowerCase().includes(search.toLowerCase())\n          // )\n          .reverse()\n\n          .map((list) => (\n            <Accordion defaultActiveKey={[\"0\"]} key={list._id}>\n              <Accordion.Item eventkey=\"0\">\n                <Card style={{ margin: 10 }} key={list._id}>\n                  <Card.Header style={{ display: \"flex\" }}>\n                    <span\n                      style={{\n                        color: \"black\",\n                        textDecoration: \"none\",\n                        flex: 1,\n                        cursor: \"pointer\",\n                        alignSelf: \"center\",\n                        fontSize: 18,\n                      }}\n                    >\n                      <Accordion.Button as={Card.Text} variant=\"link\">\n                        {list.title}\n                      </Accordion.Button>\n                    </span>\n                    <div>\n                      \n                      <Button href={`/api/lists/${list._id}`}>Edit</Button>\n                      <Button\n                        variant=\"danger\"\n                        className=\"mx-2\"\n                        onClick={() => deleteHandler(list._id)}\n                      >\n                        Delete\n                      </Button>\n                    </div>\n                  </Card.Header>\n                  <Accordion.Collapse>\n                    <Card.Body>\n                      <h4>\n                        <Badge bg=\"success\" text=\"light\">\n                          Category - {list.category}{\" \"}\n                        </Badge>\n                      </h4>\n\n                      <blockquote className=\"blockquote mb-0\">\n                        <p>{list.content}</p>\n                        <footer className=\"blockquote-footer\">\n                          Created on {\"\"}\n                          <cite title=\"Source Title\">\n                            {list.createdAt.substring(0, 10)}\n                          </cite>\n                        </footer>\n                      </blockquote>\n                    </Card.Body>\n                  </Accordion.Collapse>\n                </Card>\n              </Accordion.Item>\n            </Accordion>\n          ))}\n    </MainScreen>\n  );\n};\n\nexport default MyLists;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}